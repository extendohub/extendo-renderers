<html>
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/@observablehq/inspector@3/dist/inspector.css">
  <body>
  <script type="module">
      import { Runtime, Inspector } from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js"
      import('data:text/javascript;base64,ZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVmaW5lMChydW50aW1lLCBvYnNlcnZlcikgewogIGNvbnN0IG1haW4gPSBydW50aW1lLm1vZHVsZSgpCm1haW4udmFyaWFibGUob2JzZXJ2ZXIoKSkuZGVmaW5lKFsibWQiXSwgZnVuY3Rpb24obWQpIHsgcmV0dXJuICgKICBtZGAjIEJydXNoYWJsZSBTY2F0dGVycGxvdAoKVGhpcyBjaGFydCBzaG93cyB0aGUgaW52ZXJzZSByZWxhdGlvbnNoaXAgYmV0d2VlbiBlbmdpbmUgcG93ZXIgKCp5Ki1heGlzKSBhbmQgZnVlbCBlZmZpY2llbmN5ICgqeCotYXhpcykgaW4gJHtkYXRhLmxlbmd0aH0gY2FycyBmcm9tIDE5NzDigJMxOTgyLiBCcnVzaGluZyB0aGlzIHNjYXR0ZXJwbG90IHdpbGwgc2hvdyB0aGUgc2VsZWN0ZWQgZGF0YSBwb2ludHMuYAopfSkKbWFpbi52YXJpYWJsZShvYnNlcnZlcigidmlld29mIHNlbGVjdGlvbiIpKS5kZWZpbmUoInZpZXdvZiBzZWxlY3Rpb24iLCBbImQzIiwgIndpZHRoIiwgImhlaWdodCIsICJ4QXhpcyIsICJ5QXhpcyIsICJkYXRhIiwgIngiLCAieSJdLCBmdW5jdGlvbihkMywgd2lkdGgsIGhlaWdodCwgeEF4aXMsIHlBeGlzLCBkYXRhLCB4LCB5KSB7IAogIGNvbnN0IHN2ZyA9IGQzLmNyZWF0ZSgic3ZnIikKICAgICAgLmF0dHIoInZpZXdCb3giLCBbMCwgMCwgd2lkdGgsIGhlaWdodF0pCiAgICAgIC5wcm9wZXJ0eSgidmFsdWUiLCBbXSk7CgogIGNvbnN0IGJydXNoID0gZDMuYnJ1c2goKQogICAgICAub24oInN0YXJ0IGJydXNoIGVuZCIsIGJydXNoZWQpOwoKICBzdmcuYXBwZW5kKCJnIikKICAgICAgLmNhbGwoeEF4aXMpOwoKICBzdmcuYXBwZW5kKCJnIikKICAgICAgLmNhbGwoeUF4aXMpOwoKICBjb25zdCBkb3QgPSBzdmcuYXBwZW5kKCJnIikKICAgICAgLmF0dHIoImZpbGwiLCAibm9uZSIpCiAgICAgIC5hdHRyKCJzdHJva2UiLCAic3RlZWxibHVlIikKICAgICAgLmF0dHIoInN0cm9rZS13aWR0aCIsIDEuNSkKICAgIC5zZWxlY3RBbGwoImNpcmNsZSIpCiAgICAuZGF0YShkYXRhKQogICAgLmpvaW4oImNpcmNsZSIpCiAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCBkID0+IGB0cmFuc2xhdGUoJHt4KGQueCl9LCR7eShkLnkpfSlgKQogICAgICAuYXR0cigiciIsIDMpOwoKICBzdmcuY2FsbChicnVzaCk7CgogIGZ1bmN0aW9uIGJydXNoZWQoe3NlbGVjdGlvbn0pIHsKICAgIGxldCB2YWx1ZSA9IFtdOwogICAgaWYgKHNlbGVjdGlvbikgewogICAgICBjb25zdCBbW3gwLCB5MF0sIFt4MSwgeTFdXSA9IHNlbGVjdGlvbjsKICAgICAgdmFsdWUgPSBkb3QKICAgICAgICAuc3R5bGUoInN0cm9rZSIsICJncmF5IikKICAgICAgICAuZmlsdGVyKGQgPT4geDAgPD0geChkLngpICYmIHgoZC54KSA8IHgxICYmIHkwIDw9IHkoZC55KSAmJiB5KGQueSkgPCB5MSkKICAgICAgICAuc3R5bGUoInN0cm9rZSIsICJzdGVlbGJsdWUiKQogICAgICAgIC5kYXRhKCk7CiAgICB9IGVsc2UgewogICAgICBkb3Quc3R5bGUoInN0cm9rZSIsICJzdGVlbGJsdWUiKTsKICAgIH0KICAgIHN2Zy5wcm9wZXJ0eSgidmFsdWUiLCB2YWx1ZSkuZGlzcGF0Y2goImlucHV0Iik7CiAgfQoKICByZXR1cm4gc3ZnLm5vZGUoKTsKfQopOwp9KQptYWluLnZhcmlhYmxlKG9ic2VydmVyKCJzZWxlY3Rpb24iKSkuZGVmaW5lKCJzZWxlY3Rpb24iLCBbIkdlbmVyYXRvcnMiXSwgZnVuY3Rpb24oR2VuZXJhdG9ycykgeyByZXR1cm4gKAogIEdlbmVyYXRvcnMuaW5wdXQodmlld29mX3NlbGVjdGlvbikpCil9KQptYWluLnZhcmlhYmxlKG9ic2VydmVyKCkpLmRlZmluZShbInNlbGVjdGlvbiJdLCBmdW5jdGlvbihzZWxlY3Rpb24pIHsgcmV0dXJuICgKICBzZWxlY3Rpb24KKX0pCm1haW4udmFyaWFibGUob2JzZXJ2ZXIoImhlaWdodCIpKS5kZWZpbmUoImhlaWdodCIsIFtdLCBmdW5jdGlvbigpIHsgcmV0dXJuICgKICA2MDAKKX0pCm1haW4udmFyaWFibGUob2JzZXJ2ZXIoIm1hcmdpbiIpKS5kZWZpbmUoIm1hcmdpbiIsIFtdLCBmdW5jdGlvbigpIHsgcmV0dXJuICgKICB7dG9wOiAyMCwgcmlnaHQ6IDMwLCBib3R0b206IDMwLCBsZWZ0OiA0MH0KKX0pCm1haW4udmFyaWFibGUob2JzZXJ2ZXIoIngiKSkuZGVmaW5lKCJ4IiwgWyJkMyIsICJkYXRhIiwgIm1hcmdpbiIsICJ3aWR0aCJdLCBmdW5jdGlvbihkMywgZGF0YSwgbWFyZ2luLCB3aWR0aCkgeyByZXR1cm4gKAogIGQzLnNjYWxlTGluZWFyKCkKICAuZG9tYWluKGQzLmV4dGVudChkYXRhLCBkID0+IGQueCkpLm5pY2UoKQogIC5yYW5nZShbbWFyZ2luLmxlZnQsIHdpZHRoIC0gbWFyZ2luLnJpZ2h0XSkKKX0pCm1haW4udmFyaWFibGUob2JzZXJ2ZXIoInkiKSkuZGVmaW5lKCJ5IiwgWyJkMyIsICJkYXRhIiwgImhlaWdodCIsICJtYXJnaW4iXSwgZnVuY3Rpb24oZDMsIGRhdGEsIGhlaWdodCwgbWFyZ2luKSB7IHJldHVybiAoCiAgZDMuc2NhbGVMaW5lYXIoKQogIC5kb21haW4oZDMuZXh0ZW50KGRhdGEsIGQgPT4gZC55KSkubmljZSgpCiAgLnJhbmdlKFtoZWlnaHQgLSBtYXJnaW4uYm90dG9tLCBtYXJnaW4udG9wXSkKKX0pCm1haW4udmFyaWFibGUob2JzZXJ2ZXIoInhBeGlzIikpLmRlZmluZSgieEF4aXMiLCBbImhlaWdodCIsICJtYXJnaW4iLCAiZDMiLCAieCIsICJ3aWR0aCIsICJkYXRhIl0sIGZ1bmN0aW9uKGhlaWdodCwgbWFyZ2luLCBkMywgeCwgd2lkdGgsIGRhdGEpIHsgcmV0dXJuICgKICBnID0+IGcKICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCBgdHJhbnNsYXRlKDAsJHtoZWlnaHQgLSBtYXJnaW4uYm90dG9tfSlgKQogICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4KSkKICAgIC5jYWxsKGcgPT4gZy5zZWxlY3QoIi5kb21haW4iKS5yZW1vdmUoKSkKICAgIC5jYWxsKGcgPT4gZy5hcHBlbmQoInRleHQiKQogICAgICAgIC5hdHRyKCJ4Iiwgd2lkdGggLSBtYXJnaW4ucmlnaHQpCiAgICAgICAgLmF0dHIoInkiLCAtNCkKICAgICAgICAuYXR0cigiZmlsbCIsICIjMDAwIikKICAgICAgICAuYXR0cigiZm9udC13ZWlnaHQiLCAiYm9sZCIpCiAgICAgICAgLmF0dHIoInRleHQtYW5jaG9yIiwgImVuZCIpCiAgICAgICAgLnRleHQoZGF0YS54KSkKKX0pCm1haW4udmFyaWFibGUob2JzZXJ2ZXIoInlBeGlzIikpLmRlZmluZSgieUF4aXMiLCBbIm1hcmdpbiIsICJkMyIsICJ5IiwgImRhdGEiXSwgZnVuY3Rpb24obWFyZ2luLCBkMywgeSwgZGF0YSkgeyByZXR1cm4gKAogIGcgPT4gZwogICAgLmF0dHIoInRyYW5zZm9ybSIsIGB0cmFuc2xhdGUoJHttYXJnaW4ubGVmdH0sMClgKQogICAgLmNhbGwoZDMuYXhpc0xlZnQoeSkpCiAgICAuY2FsbChnID0+IGcuc2VsZWN0KCIuZG9tYWluIikucmVtb3ZlKCkpCiAgICAuY2FsbChnID0+IGcuc2VsZWN0KCIudGljazpsYXN0LW9mLXR5cGUgdGV4dCIpLmNsb25lKCkKICAgICAgICAuYXR0cigieCIsIDQpCiAgICAgICAgLmF0dHIoInRleHQtYW5jaG9yIiwgInN0YXJ0IikKICAgICAgICAuYXR0cigiZm9udC13ZWlnaHQiLCAiYm9sZCIpCiAgICAgICAgLnRleHQoZGF0YS55KSkKKX0pCm1haW4udmFyaWFibGUob2JzZXJ2ZXIoImNhcnMtMiIpKS5kZWZpbmUoImNhcnMtMiIsIGZ1bmN0aW9uKCkgeyAKICByZXR1cm4gZmV0Y2goImh0dHBzOi8vZ2l0aHViLmNvbS9mb28vYmFyL2NhcnMtMi5jc3YiKQp9KQptYWluLnZhcmlhYmxlKG9ic2VydmVyKCJkYXRhIikpLmRlZmluZSgiZGF0YSIsIFsiZDMiLCAiY2Fycy0yIl0sIGFzeW5jIGZ1bmN0aW9uKGQzLCBjYXJzLTIpIHsgcmV0dXJuICgKICBPYmplY3QuYXNzaWduKGQzLmNzdlBhcnNlKChhd2FpdCBjYXJzLTIpLnRleHQoKSwgKHtOYW1lOiBuYW1lLCBNaWxlc19wZXJfR2FsbG9uOiB4LCBIb3JzZXBvd2VyOiB5fSkgPT4gKHtuYW1lLCB4OiAreCwgeTogK3l9KSksIHt4OiAiTWlsZXMgcGVyIEdhbGxvbiIsIHk6ICJIb3JzZXBvd2VyIn0pCil9KQptYWluLnZhcmlhYmxlKG9ic2VydmVyKCkpLmRlZmluZShbIm1kIl0sIGZ1bmN0aW9uKG1kKSB7IHJldHVybiAoCiAgbWRgVGhhbmtzIHRvIFtKb2huIEFsZXhpcyBHdWVycmEgR8OzbWV6XSgvQGpvaG4tZ3VlcnJhKSBmb3Igc3VnZ2VzdGlvbnMuYAopfSkKbWFpbi52YXJpYWJsZShvYnNlcnZlcigiZDMiKSkuZGVmaW5lKCJkMyIsIFsicmVxdWlyZSJdLCBmdW5jdGlvbihyZXF1aXJlKSB7IHJldHVybiAoCiAgcmVxdWlyZSgiZDNANiIpCil9KQpyZXR1cm4gbWFpbgp9CmNvbnN0IGNoaWxkMCA9IHJ1bnRpbWUubW9kdWxlKGRlZmluZTApCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlZmluZShydW50aW1lLCBvYnNlcnZlcikgewogIGNvbnN0IG1haW4gPSBydW50aW1lLm1vZHVsZSgpCm1haW4udmFyaWFibGUob2JzZXJ2ZXIoKSkuZGVmaW5lKFsibWQiXSwgZnVuY3Rpb24obWQpIHsgcmV0dXJuICgKICBtZGAjIEZpdmUtTWludXRlIEludHJvZHVjdGlvbgoKV2VsY29tZSEgVGhpcyBub3RlYm9vayBnaXZlcyBhIHF1aWNrIG92ZXJ2aWV3IG9mIE9ic2VydmFibGUuIEZvciBhIG1vcmUgdGVjaG5pY2FsIGludHJvZHVjdGlvbiwgc2VlIFtPYnNlcnZhYmxl4oCZcyBub3QgSmF2YVNjcmlwdF0oL0BvYnNlcnZhYmxlaHEvb2JzZXJ2YWJsZXMtbm90LWphdmFzY3JpcHQpLiBGb3IgaGFuZHMtb24sIHNlZSBvdXIgW2ludHJvZHVjdG9yeSB0dXRvcmlhbCBzZXJpZXNdKC9jb2xsZWN0aW9uL0BvYnNlcnZhYmxlaHEvaW50cm9kdWN0aW9uKS4gVG8gd2F0Y2ggcmF0aGVyIHRoYW4gcmVhZCwgc2VlIG91ciBbc2hvcnQgaW50cm9kdWN0b3J5IHZpZGVvXShodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PXVFbUR3ZmxRM3hFKSEKCkFuIE9ic2VydmFibGUgbm90ZWJvb2sgY29uc2lzdHMgb2YgY2VsbHMuIEVhY2ggY2VsbCBpcyBhIHNuaXBwZXQgb2YgSmF2YVNjcmlwdC4gWW91IGNhbiBzZWUgKGFuZCBlZGl0ISkgdGhlIGNvZGUgZm9yIGFueSBjZWxsIGJ5IGNsaWNraW5nIHRoZSBtZW51IDxzdmcgdmlld0JveD0iMCAwIDggMTQiIGZpbGw9ImN1cnJlbnRDb2xvciIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiB3aWR0aD0iOCIgaGVpZ2h0PSIxNCI+PGNpcmNsZSByPSIxLjUiIGN4PSI0IiBjeT0iMiI+PC9jaXJjbGU+PGNpcmNsZSByPSIxLjUiIGN4PSI0IiBjeT0iNyI+PC9jaXJjbGU+PGNpcmNsZSByPSIxLjUiIGN4PSI0IiBjeT0iMTIiPjwvY2lyY2xlPjwvc3ZnPiBpbiB0aGUgbGVmdCBtYXJnaW4uYAopfSkKbWFpbi52YXJpYWJsZShvYnNlcnZlcigpKS5kZWZpbmUoW10sIGZ1bmN0aW9uKCkgeyByZXR1cm4gKAogIDIgKiAzICogNwopfSkKbWFpbi52YXJpYWJsZShvYnNlcnZlcigpKS5kZWZpbmUoW10sIGZ1bmN0aW9uKCkgeyAKICBsZXQgc3VtID0gMAogIGZvciAobGV0IGkgPSAwOyBpIDw9IDEwMDsgKytpKSB7CiAgICBzdW0gKz0gaQogIH0KICByZXR1cm4gc3VtCn0pCm1haW4udmFyaWFibGUob2JzZXJ2ZXIoKSkuZGVmaW5lKFsibWQiXSwgZnVuY3Rpb24obWQpIHsgcmV0dXJuICgKICBtZGBDZWxscyBjYW4gaGF2ZSBuYW1lcy4gVGhpcyBhbGxvd3MgYSBjZWxs4oCZcyB2YWx1ZSB0byBiZSByZWZlcmVuY2VkIGJ5IG90aGVyIGNlbGxzLmAKKX0pCm1haW4udmFyaWFibGUob2JzZXJ2ZXIoImNvbG9yIikpLmRlZmluZSgiY29sb3IiLCBbXSwgZnVuY3Rpb24oKSB7IHJldHVybiAoCiAgInJlZCIKKX0pCm1haW4udmFyaWFibGUob2JzZXJ2ZXIoKSkuZGVmaW5lKFsiY29sb3IiXSwgZnVuY3Rpb24oY29sb3IpIHsgcmV0dXJuICgKICBgTXkgZmF2b3JpdGUgY29sb3IgaXMgJHtjb2xvcn0uYAopfSkKbWFpbi52YXJpYWJsZShvYnNlcnZlcigpKS5kZWZpbmUoWyJtZCJdLCBmdW5jdGlvbihtZCkgeyByZXR1cm4gKAogIG1kYEEgY2VsbCByZWZlcmVuY2luZyBhbm90aGVyIGNlbGwgaXMgcmUtZXZhbHVhdGVkIGF1dG9tYXRpY2FsbHkgd2hlbiB0aGUgcmVmZXJlbmNlZCB2YWx1ZSBjaGFuZ2VzLiBUcnkgZWRpdGluZyB0aGUgZGVmaW5pdGlvbiBvZiAqY29sb3IqIGFib3ZlIGFuZCBzaGlmdC1yZXR1cm4gdG8gcmUtZXZhbHVhdGUuCgpDZWxscyBjYW4gZ2VuZXJhdGUgRE9NIChIVE1MLCBTVkcsIENhbnZhcywgV2ViR0wsICpldGMuKikuIFlvdSBjYW4gdXNlIHRoZSBzdGFuZGFyZCBET00gQVBJIGxpa2UgKmRvY3VtZW50Ki5jcmVhdGVFbGVtZW50LCBvciB1c2UgdGhlIGJ1aWx0LWluICpodG1sKiB0YWdnZWQgdGVtcGxhdGUgbGl0ZXJhbDpgCil9KQptYWluLnZhcmlhYmxlKG9ic2VydmVyKCkpLmRlZmluZShbImh0bWwiXSwgZnVuY3Rpb24oaHRtbCkgeyByZXR1cm4gKAogIGh0bWxgPHNwYW4gc3R5bGU9ImJhY2tncm91bmQ6eWVsbG93OyI+CiAgTXkgZmF2b3JpdGUgbGFuZ3VhZ2UgaXMgPGk+SFRNTDwvaT4uCjwvc3Bhbj5gCil9KQptYWluLnZhcmlhYmxlKG9ic2VydmVyKCkpLmRlZmluZShbIm1kIl0sIGZ1bmN0aW9uKG1kKSB7IHJldHVybiAoCiAgbWRgVGhlcmXigJlzIGEgTWFya2Rvd24gdGFnZ2VkIHRlbXBsYXRlIGxpdGVyYWwsIHRvby4gKFRoaXMgbm90ZWJvb2sgaXMgd3JpdHRlbiBpbiBNYXJrZG93bi4pCgpNeSBmYXZvcml0ZSBsYW5ndWFnZSBpcyAqTWFya2Rvd24qLgoKVGhlIERPTSBjYW4gYmUgbWFkZSByZWFjdGl2ZSBzaW1wbHkgYnkgcmVmZXJyaW5nIHRvIG90aGVyIGNlbGxzLiBUaGUgbmV4dCBjZWxsIHJlZmVycyB0byAqY29sb3IqLiAoVHJ5IGVkaXRpbmcgdGhlIGRlZmluaXRpb24gb2YgKmNvbG9yKiBhYm92ZS4pYAopfSkKbWFpbi52YXJpYWJsZShvYnNlcnZlcigpKS5kZWZpbmUoWyJodG1sIiwgImNvbG9yIl0sIGZ1bmN0aW9uKGh0bWwsIGNvbG9yKSB7IHJldHVybiAoCiAgaHRtbGBNeSBmYXZvcml0ZSBjb2xvciBpcyA8aSBzdHlsZT0iYmFja2dyb3VuZDoke2NvbG9yfTsiPiR7Y29sb3J9PC9pPi5gCil9KQptYWluLnZhcmlhYmxlKG9ic2VydmVyKCkpLmRlZmluZShbIm1kIl0sIGZ1bmN0aW9uKG1kKSB7IHJldHVybiAoCiAgbWRgU29tZXRpbWVzIHlvdSBuZWVkIHRvIGxvYWQgZGF0YSBmcm9tIGEgcmVtb3RlIHNlcnZlciwgb3IgY29tcHV0ZSBzb21ldGhpbmcgZXhwZW5zaXZlIGluIGEgd2ViIHdvcmtlci4gRm9yIHRoYXQsIGNlbGxzIGNhbiBiZSBkZWZpbmVkIGFzeW5jaHJvbm91c2x5IHVzaW5nIFtwcm9taXNlc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9HdWlkZS9Vc2luZ19wcm9taXNlcyk6YAopfSkKbWFpbi52YXJpYWJsZShvYnNlcnZlcigic3RhdHVzIikpLmRlZmluZSgic3RhdHVzIiwgW10sIGZ1bmN0aW9uKCkgeyByZXR1cm4gKAogIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogIHNldFRpbWVvdXQoKCkgPT4gewogICAgcmVzb2x2ZSh7cmVzb2x2ZWQ6IG5ldyBEYXRlfSk7CiAgfSwgMjAwMCk7Cn0pCil9KQptYWluLnZhcmlhYmxlKG9ic2VydmVyKCkpLmRlZmluZShbIm1kIl0sIGZ1bmN0aW9uKG1kKSB7IHJldHVybiAoCiAgbWRgQSBjZWxsIHRoYXQgcmVmZXJzIHRvIGEgcHJvbWlzZSBjZWxsIHNlZXMgdGhlIHZhbHVlIHdoZW4gaXQgaXMgcmVzb2x2ZWQ7IHRoaXMgaW1wbGljaXQgYXdhaXQgbWVhbnMgdGhhdCByZWZlcmVuY2luZyBjZWxscyBkb27igJl0IGNhcmUgd2hldGhlciB0aGUgdmFsdWUgaXMgc3luY2hyb25vdXMgb3Igbm90LiBFZGl0IHRoZSAqc3RhdHVzKiBjZWxsIGFib3ZlIHRvIHNlZSB0aGUgY2VsbCBiZWxvdyB1cGRhdGUgYWZ0ZXIgdHdvIHNlY29uZHMuYAopfSkKbWFpbi52YXJpYWJsZShvYnNlcnZlcigpKS5kZWZpbmUoWyJzdGF0dXMiXSwgZnVuY3Rpb24oc3RhdHVzKSB7IHJldHVybiAoCiAgc3RhdHVzCil9KQptYWluLnZhcmlhYmxlKG9ic2VydmVyKCkpLmRlZmluZShbIm1kIl0sIGZ1bmN0aW9uKG1kKSB7IHJldHVybiAoCiAgbWRgUHJvbWlzZXMgYXJlIGFsc28gdXNlZnVsIGZvciBsb2FkaW5nIGxpYnJhcmllcyBmcm9tIG5wbS4gQmVsb3csIFxgcmVxdWlyZVxgIHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIGQzLWZldGNoIGxpYnJhcnk6YAopfSkKbWFpbi52YXJpYWJsZShvYnNlcnZlcigiZDMiKSkuZGVmaW5lKCJkMyIsIFsicmVxdWlyZSJdLCBmdW5jdGlvbihyZXF1aXJlKSB7IHJldHVybiAoCiAgcmVxdWlyZSgiZDMtZmV0Y2hAMSIpCil9KQptYWluLnZhcmlhYmxlKG9ic2VydmVyKCkpLmRlZmluZShbIm1kIl0sIGZ1bmN0aW9uKG1kKSB7IHJldHVybiAoCiAgbWRgSWYgeW91IHByZWZlciwgeW91IGNhbiB1c2UgYXN5bmMgYW5kIGF3YWl0IGV4cGxpY2l0bHk6YAopfSkKbWFpbi52YXJpYWJsZShvYnNlcnZlcigiY291bnRyaWVzIikpLmRlZmluZSgiY291bnRyaWVzIiwgWyJkMyJdLCBhc3luYyBmdW5jdGlvbihkMykgeyByZXR1cm4gKAogIChhd2FpdCBkMy50c3YoImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vd29ybGQtYXRsYXNAMS93b3JsZC8xMTBtLnRzdiIpKQogICAgLnNvcnQoKGEsIGIpID0+IGIucG9wX2VzdCAtIGEucG9wX2VzdCkgLy8gU29ydCBieSBkZXNjZW5kaW5nIGVzdGltYXRlZCBwb3B1bGF0aW9uLgogICAgLnNsaWNlKDAsIDEwKQopfSkKbWFpbi52YXJpYWJsZShvYnNlcnZlcigpKS5kZWZpbmUoWyJtZCJdLCBmdW5jdGlvbihtZCkgeyByZXR1cm4gKAogIG1kYENlbGxzIGNhbiBiZSBkZWZpbmVkIGFzIFtnZW5lcmF0b3JzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9KYXZhU2NyaXB0L0d1aWRlL0l0ZXJhdG9yc19hbmRfR2VuZXJhdG9ycyNHZW5lcmF0b3JzKTsgYSB2YWx1ZSBpcyB5aWVsZGVkIHVwIHRvIHNpeHR5IHRpbWVzIGEgc2Vjb25kLmAKKX0pCm1haW4udmFyaWFibGUob2JzZXJ2ZXIoImkiKSkuZGVmaW5lKCJpIiwgW10sIGZ1bmN0aW9uKigpIHsgCiAgbGV0IGkgPSAwOwogIHdoaWxlICh0cnVlKSB7CiAgICB5aWVsZCArK2k7CiAgfQp9KQptYWluLnZhcmlhYmxlKG9ic2VydmVyKCkpLmRlZmluZShbImkiXSwgZnVuY3Rpb24oaSkgeyByZXR1cm4gKAogIGBUaGUgY3VycmVudCB2YWx1ZSBvZiBpIGlzICR7aX0uYAopfSkKbWFpbi52YXJpYWJsZShvYnNlcnZlcigpKS5kZWZpbmUoWyJtZCJdLCBmdW5jdGlvbihtZCkgeyByZXR1cm4gKAogIG1kYEFueSBjZWxsIHRoYXQgcmVmZXJzIHRvIGEgZ2VuZXJhdG9yIGNlbGwgc2VlcyBpdHMgY3VycmVudCB2YWx1ZTsgdGhlIHJlZmVyZW5jaW5nIGNlbGwgaXMgcmUtZXZhbHVhdGVkIHdoZW5ldmVyIHRoZSBnZW5lcmF0b3IgeWllbGRzIGEgbmV3IHZhbHVlLiBBcyB5b3UgbWlnaHQgZ3Vlc3MsIGEgZ2VuZXJhdG9yIGNhbiB5aWVsZCBwcm9taXNlcyBmb3IgW2FzeW5jIGl0ZXJhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtYXN5bmMtaXRlcmF0aW9uKTsgcmVmZXJlbmNpbmcgY2VsbHMgc2VlIHRoZSBjdXJyZW50IHJlc29sdmVkIHZhbHVlLmAKKX0pCm1haW4udmFyaWFibGUob2JzZXJ2ZXIoImRhdGUiKSkuZGVmaW5lKCJkYXRlIiwgW10sIGZ1bmN0aW9uKigpIHsgCiAgd2hpbGUgKHRydWUpIHsKICAgIHlpZWxkIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICBzZXRUaW1lb3V0KCgpID0+IHJlc29sdmUobmV3IERhdGUpLCAxMDAwKTsKICAgIH0pOwogIH0KfSkKbWFpbi52YXJpYWJsZShvYnNlcnZlcigpKS5kZWZpbmUoWyJtZCJdLCBmdW5jdGlvbihtZCkgeyByZXR1cm4gKAogIG1kYENvbWJpbmluZyB0aGVzZSBwcmltaXRpdmVz4oCUcHJvbWlzZXMsIGdlbmVyYXRvcnMgYW5kIERPTeKAlHlvdSBjYW4gYnVpbGQgY3VzdG9tIHVzZXIgaW50ZXJmYWNlcy4gSGVyZeKAmXMgYSBzbGlkZXIgYW5kIGEgZ2VuZXJhdG9yIHRoYXQgeWllbGRzIHRoZSBzbGlkZXLigJlzIHZhbHVlOmAKKX0pCm1haW4udmFyaWFibGUob2JzZXJ2ZXIoInNsaWRlciIpKS5kZWZpbmUoInNsaWRlciIsIFsiaHRtbCJdLCBmdW5jdGlvbihodG1sKSB7IHJldHVybiAoCiAgaHRtbGA8aW5wdXQgdHlwZT1yYW5nZT5gCil9KQptYWluLnZhcmlhYmxlKG9ic2VydmVyKCJzbGlkZXJWYWx1ZSIpKS5kZWZpbmUoInNsaWRlclZhbHVlIiwgWyJHZW5lcmF0b3JzIiwgInNsaWRlciJdLCBmdW5jdGlvbihHZW5lcmF0b3JzLCBzbGlkZXIpIHsgcmV0dXJuICgKICBHZW5lcmF0b3JzLmlucHV0KHNsaWRlcikKKX0pCm1haW4udmFyaWFibGUob2JzZXJ2ZXIoKSkuZGVmaW5lKFsibWQiXSwgZnVuY3Rpb24obWQpIHsgcmV0dXJuICgKICBtZGBHZW5lcmF0b3JzLmlucHV0IHJldHVybnMgYSBnZW5lcmF0b3IgdGhhdCB5aWVsZHMgcHJvbWlzZXMuIFRoZSBwcm9taXNlIHJlc29sdmVzIHdoZW5ldmVyIHRoZSBhc3NvY2lhdGVkIGlucHV0IGVsZW1lbnQgZW1pdHMgYW4gaW5wdXQgZXZlbnQuIFlvdSBkb27igJl0IG5lZWQgdG8gaW1wbGVtZW50IHRoYXQgZ2VuZXJhdG9yIGJ5IGhhbmQsIHRob3VnaC4gVGhlcmXigJlzIGEgYnVpbHRpbiB2aWV3b2Ygb3BlcmF0b3Igd2hpY2ggZXhwb3NlcyB0aGUgY3VycmVudCB2YWx1ZSBvZiBhIGdpdmVuIGlucHV0IGVsZW1lbnQ6YAopfSkKbWFpbi52YXJpYWJsZShvYnNlcnZlcigidmlld29mIHZhbHVlIikpLmRlZmluZSgidmlld29mIHZhbHVlIiwgWyJodG1sIl0sIGZ1bmN0aW9uKGh0bWwpIHsgcmV0dXJuICgKICBodG1sYDxpbnB1dCB0eXBlPXJhbmdlPmAKKX0pCm1haW4udmFyaWFibGUob2JzZXJ2ZXIoInZhbHVlIikpLmRlZmluZSgidmFsdWUiLCBbIkdlbmVyYXRvcnMiLCAidmlld29mIHZhbHVlIl0sIGZ1bmN0aW9uKEdlbmVyYXRvcnMsIHZpZXdvZl92YWx1ZSkgeyByZXR1cm4gKAogIEdlbmVyYXRvcnMuaW5wdXQodmlld29mX3ZhbHVlKQopfSkKbWFpbi52YXJpYWJsZShvYnNlcnZlcigpKS5kZWZpbmUoWyJ2YWx1ZSJdLCBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gKAogIHZhbHVlCil9KQptYWluLnZhcmlhYmxlKG9ic2VydmVyKCkpLmRlZmluZShbIm1kIl0sIGZ1bmN0aW9uKG1kKSB7IHJldHVybiAoCiAgbWRgWW91IGNhbiBpbXBvcnQgY2VsbHMgZnJvbSBvdGhlciBub3RlYm9va3MuIFRvIGRlbW9uc3RyYXRlIGhvdyBjdXN0b20gdXNlciBpbnRlcmZhY2VzIGNhbiBleHBvc2UgYXJiaXRyYXJ5IHZhbHVlcyB0byBvdGhlciBjZWxscywgaGVyZeKAmXMgYSBicnVzaGFibGUgc2NhdHRlcnBsb3Qgb2YgY2FycyBzaG93aW5nIHRoZSBpbnZlcnNlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIGhvcnNlcG93ZXIgYW5kIGZ1ZWwgZWZmaWNpZW5jeS4KCi8vIHsgdmlld29mIHNlbGVjdGlvbiBhcyBjYXJzIH0gZnJvbSBAZDMvYnJ1c2hhYmxlLXNjYXR0ZXJwbG90YAopfSkKbWFpbi5pbXBvcnQoInZpZXdvZiBzZWxlY3Rpb24iLCAidmlld29mIGNhcnMiLCBjaGlsZDApCm1haW4uaW1wb3J0KCJzZWxlY3Rpb24iLCAiY2FycyIsIGNoaWxkMCkKbWFpbi52YXJpYWJsZShvYnNlcnZlcigpKS5kZWZpbmUoWyJ2aWV3b2YgY2FycyJdLCBmdW5jdGlvbih2aWV3b2ZfY2FycykgeyByZXR1cm4gKAogIHZpZXdvZl9jYXJzCil9KQptYWluLnZhcmlhYmxlKG9ic2VydmVyKCkpLmRlZmluZShbImNhcnMiXSwgZnVuY3Rpb24oY2FycykgeyByZXR1cm4gKAogIGNhcnMKKX0pCm1haW4udmFyaWFibGUob2JzZXJ2ZXIoKSkuZGVmaW5lKFsibWQiLCAiY2FycyJdLCBmdW5jdGlvbihtZCwgY2FycykgeyByZXR1cm4gKAogIG1kYCR7QXJyYXkuZnJvbShuZXcgU2V0KGNhcnMubWFwKGMgPT4gYy5uYW1lKSkpCiAgLnNvcnQoKQogIC5tYXAoYyA9PiBgKiA8YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cHM6Ly9nb29nbGUuY29tL3NlYXJjaD90Ym09aXNjaCZxPSR7ZXNjYXBlKGMpfSI+JHtjfTwvYT5gKQogIC5qb2luKCJcbiIpfWAKKX0pCnJldHVybiBtYWluCn0=').then(notebook => {
        const runtime = new Runtime()
        runtime.module(notebook.default, Inspector.into(document.body))
        window.parent.postMessage('loaded', '*')
      })
    </script>
</html>